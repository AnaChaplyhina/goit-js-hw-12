{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\n\nconst galleryEl = document.querySelector('#gallery');\nconst loaderEl = document.querySelector('#loader');\nconst loadMoreBtn = document.querySelector('#load-more');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  if (!Array.isArray(images) || images.length === 0) return;\n\n  const fragment = document.createDocumentFragment();\n\n  for (let i = 0; i < images.length; i += 1) {\n    const item = images[i];\n\n    const li = document.createElement('li');\n    li.className = 'photo-card';\n\n    const link = document.createElement('a');\n    link.setAttribute('href', item.largeImageURL);\n\n    const img = document.createElement('img');\n    img.setAttribute('src', item.webformatURL);\n    img.setAttribute('alt', escapeHtml(item.tags || ''));\n    img.setAttribute('loading', 'lazy');\n\n    link.appendChild(img);\n    li.appendChild(link);\n\n    const info = document.createElement('div');\n    info.className = 'info';\n\n    info.appendChild(makeInfoP('Likes', item.likes));\n    info.appendChild(makeInfoP('Views', item.views));\n    info.appendChild(makeInfoP('Comments', item.comments));\n    info.appendChild(makeInfoP('Downloads', item.downloads));\n\n    li.appendChild(info);\n    fragment.appendChild(li);\n  }\n\n  galleryEl.appendChild(fragment);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  if (galleryEl) galleryEl.innerHTML = '';\n}\n\nexport function showLoader() {\n  if (loaderEl) loaderEl.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  if (loaderEl) loaderEl.classList.add('is-hidden');\n}\n\nexport function showLoadMoreButton() {\n  if (loadMoreBtn) loadMoreBtn.classList.remove('is-hidden');\n}\n\nexport function hideLoadMoreButton() {\n  if (loadMoreBtn) loadMoreBtn.classList.add('is-hidden');\n}\n\nexport function getFirstCardHeight() {\n  const firstCard = galleryEl ? galleryEl.querySelector('.photo-card') : null;\n  return firstCard ? firstCard.getBoundingClientRect().height : 0;\n}\n\nexport { galleryEl, loadMoreBtn };\n\nfunction makeInfoP(label, value) {\n  const p = document.createElement('p');\n  const b = document.createElement('b');\n  b.textContent = label;\n  p.appendChild(b);\n  p.appendChild(document.createTextNode(String(value)));\n  return p;\n}\n\nfunction escapeHtml(str) {\n  return String(str)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#039;');\n}\n\n\n"],"names":["SimpleLightbox"],"mappings":"svBAEkB,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,EAC7B,SAAS,cAAc,YAAY,EAEtC,IAAIA,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC"}